{"version":3,"sources":["logo.svg","api/api.js","components/Header.js","components/TodoItem.js","components/TodoList.js","App.js","storage.js","index.js"],"names":["module","exports","__webpack_require__","p","BASE_URL","getUsers","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","fetch","concat","then","response","json","abrupt","sent","stop","apply","this","arguments","getTodos","_ref2","_callee2","_context2","connect","state","usersAmount","users","length","todosAmount","todos","react_default","createElement","className","dispatch","toggleInput","id","type","todoId","todo","key","checked","completed","onChange","find","user","userId","name","title","sortedTodos","sortTodos","undefined","sortType","primaryTodos","_useState","useState","_useState2","slicedToArray","sortWrapper","onClick","map","components_TodoItem","App","props","startLoading","finishLoading","setUsers","setTodos","_this","_this$props2","isLoading","isDataLoaded","components_Header","components_TodoList","loadingData","src","logo","alt","React","Component","reducer","combineReducers","action","toConsumableArray","sort","b","objectSpread","userName","localeCompare","store","createStore","ReactDOM","render","es","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.aea28887.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","const BASE_URL = 'https://jsonplaceholder.typicode.com';\r\n\r\nexport const getUsers = async () => {\r\n  return await fetch(`${BASE_URL}/users`)\r\n    .then(response => response.json());\r\n};\r\n\r\nexport const getTodos = async () => {\r\n  return await fetch(`${BASE_URL}/todos`)\r\n    .then(response => response.json())\r\n};\r\n","import React from 'react'\r\nimport { connect } from \"react-redux\";\r\n\r\nconst Header = ({ todosAmount, usersAmount }) => {\r\n  return (\r\n    <header className=\"header\">\r\n      <span className=\"header__textblock t\">React-Redux Todo List</span>\r\n      <span className=\"header__textblock t1\">Connected Users: {usersAmount}</span>\r\n      <span className=\"header__textblock t2\">All connected Todos: {todosAmount}</span>\r\n    </header>\r\n  )\r\n};\r\nconst mapState = (state) => {\r\n  return {\r\n    usersAmount: state.users.length,\r\n    todosAmount: state.todos.length,\r\n  }\r\n};\r\n\r\nexport default connect(mapState)(Header);\r\n","import React from 'react'\r\nimport {connect} from \"react-redux\";\r\n\r\nconst TodoItem = ({ users, todo, toggleInput}) => {\r\n  return (\r\n    <tr\r\n      className=\"todoitem\"\r\n      key={todo.id}\r\n    >\r\n      <td>{todo.id}</td>\r\n      <td>\r\n        <input\r\n          type=\"checkbox\"\r\n          checked={todo.completed}\r\n          onChange={() => {toggleInput(todo.id)}}\r\n        />\r\n      </td>\r\n      <td>\r\n        {users.find(user => user.id === todo.userId).name}\r\n      </td>\r\n      <td\r\n        className={ todo.completed ? \"todoitem--completed\" : null }\r\n      >\r\n        {todo.title}\r\n      </td>\r\n    </tr>\r\n  )\r\n};\r\n\r\nconst mapDispatch = (dispatch) => {\r\n  return {\r\n    toggleInput: (id) => dispatch({ type: \"TOGGLE_INPUT\", todoId: id}),\r\n  }\r\n};\r\n\r\nconst mapState = (state) => {\r\n  return {\r\n    users: state.users\r\n  }\r\n};\r\n\r\nexport default connect(mapState, mapDispatch)(TodoItem)","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport TodoItem from './TodoItem';\r\n\r\nconst TodoList = ({ todos, users, sortedTodos, sortTodos }) => {\r\n  const [test, toggleTest] = useState(0);\r\n  const sortWrapper = (type) => {\r\n    sortTodos(type, todos, users)\r\n  };\r\n  return (\r\n    <table className=\"todolist-wrapper\">\r\n      <thead>\r\n        <tr>\r\n          <th onClick={() => sortWrapper(\"BY_ID\")}>ID</th>\r\n          <th onClick={() => sortWrapper(\"BY_COMPLETED\")}>Completed</th>\r\n          <th onClick={() => sortWrapper(\"BY_USERNAME\")}>Name</th>\r\n          <th onClick={() => sortWrapper(\"BY_TITLE\")}>Title</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody className=\"todolist\">\r\n        {sortedTodos.map(todo => <TodoItem key={todo.id} todo={todo}/>)}\r\n      </tbody>\r\n    </table>\r\n  )\r\n};\r\n\r\nconst mapState = (state) => {\r\n  return {\r\n    todos: state.todos,\r\n    users: state.users,\r\n    sortedTodos: state.sortedTodos\r\n  }\r\n};\r\nconst mapDispatch = (dispatch) => {\r\n  return {\r\n    sortTodos: (type, todos, users = []) => dispatch({\r\n      type: \"SORT_TODOS\",\r\n      sortType: type,\r\n      primaryTodos: todos,\r\n      users: users\r\n    })\r\n  }\r\n};\r\n\r\nexport default connect(mapState, mapDispatch)(TodoList);\r\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { getUsers, getTodos } from './api/api';\n\nimport Header from './components/Header'\nimport TodoList from './components/TodoList'\nimport logo from './logo.svg';\n\nimport './App.css';\n\nclass App extends React.Component {\n  async loadingData() {\n    const { startLoading, finishLoading, setUsers, setTodos } = this.props;\n    startLoading();\n    const users = await getUsers();\n    const todos = await getTodos();\n    setUsers(users);\n    setTodos(todos);\n    finishLoading();\n  }\n\n  render () {\n    const { isLoading, isDataLoaded } = this.props;\n    return (\n      <div className=\"main-wrapper\">\n        <Header />\n        {!isDataLoaded ?\n          ( <div\n            onClick={() => this.loadingData()}\n            className=\"loader\">\n              <img\n                src={logo}\n                className=\"App-logo\"\n                alt=\"logo\"\n              />\n              {!isLoading ?\n                <span>Push this picture to start load</span> :\n                <span>Loading data ...</span>\n              }\n            </div>) :\n          ( <TodoList/> )\n        }\n      </div>\n    )\n  }\n}\nconst mapState = (state) => {\n  return {\n    isLoading: state.isLoading,\n    isDataLoaded: state.isDataLoaded\n  }\n};\nconst mapDispatch = (dispatch) => {\n  return {\n    startLoading: () => dispatch({type: 'START_LOADING'}),\n    finishLoading: () => dispatch({type: 'FINISH_LOADING'}),\n    setTodos: (todos) => dispatch({type: 'SET_TODOS', todos: todos}),\n    setUsers: (users) => dispatch({type: 'SET_USERS', users: users}),\n  }\n};\nexport default connect(mapState, mapDispatch)(App);\n","import {combineReducers, createStore} from 'redux';\r\n\r\nconst initialState = {\r\n  todos: [],\r\n  sortedTodos: [],\r\n  users: [],\r\n  isLoading: false,\r\n  isDataLoaded: false\r\n};\r\n\r\nconst settingTodosReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'SET_TODOS':\r\n      return action.todos;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst sortingTodos = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'SET_TODOS':\r\n      return action.todos;\r\n\r\n    case 'SORT_TODOS':\r\n      const todos = [...action.primaryTodos];\r\n      switch (action.sortType) {\r\n        case 'BY_ID':\r\n          return todos.sort((a,b) => a.id - b.id);\r\n        case 'BY_COMPLETED':\r\n          return todos.sort((a,b) => a.completed - b.completed);\r\n        case 'BY_USERNAME':\r\n          const preparedTodos = todos.map(todo => {\r\n            const user = action.users.find(user => user.id === todo.userId);\r\n            return {\r\n              ...todo,\r\n              userName: user.name\r\n            }\r\n          });\r\n          return preparedTodos.sort((a,b) => a.userName.localeCompare(b.userName));\r\n        case 'BY_TITLE':\r\n          return todos.sort((a,b) => a.title.localeCompare(b.title));\r\n        default:\r\n          return state;\r\n      }\r\n\r\n    case 'TOGGLE_INPUT':\r\n      const id = action.todoId;\r\n\r\n      return state.map(todo => {\r\n        if (todo.id === id) {\r\n          return {\r\n            ...todo,\r\n            completed: !todo.completed\r\n          }\r\n        }\r\n        return todo\r\n      });\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nconst settingUsersReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'SET_USERS':\r\n      return action.users;\r\n\r\n    default:\r\n      return state\r\n  }\r\n};\r\nconst loadingReducer = (state = false, action) => {\r\n  switch (action.type) {\r\n    case 'START_LOADING':\r\n      return true;\r\n\r\n    case 'FINISH_LOADING':\r\n      return false;\r\n\r\n    default:\r\n      return state\r\n  }\r\n};\r\nconst loadToggleReducer = (state = false, action) => {\r\n  switch (action.type) {\r\n    case 'FINISH_LOADING':\r\n      return true;\r\n\r\n    default:\r\n      return state\r\n  }\r\n};\r\n\r\nconst reducer = combineReducers({\r\n  todos: settingTodosReducer,\r\n  sortedTodos: sortingTodos,\r\n  users: settingUsersReducer,\r\n  isLoading: loadingReducer,\r\n  isDataLoaded: loadToggleReducer\r\n});\r\n\r\nconst store = createStore(reducer, initialState);\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\n\nimport './index.css';\n\nimport App from './App';\nimport store from './storage';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}